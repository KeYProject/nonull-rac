plugins {
    id 'java-library'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation("org.ow2.asm:asm:9.8")
    testImplementation("junit:junit:4.13.2")
}

task runtimeJar (type: Jar) {
    from sourceSets.main.output
    include "nonnull/**"
    archiveFileName = "nonnull-runtime.jar"
}

jar {
     manifest {
         attributes "Premain-Class": "de.matul.nonnull.NonNullAgent"
     }
}
